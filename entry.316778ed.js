const s="astro:hydrate";function f(e,l=20){let i=0;return(...n)=>{clearTimeout(i),i=setTimeout(()=>e(...n),l)}}const d=f(()=>{document.querySelector("astro-root[ssr]")&&window.dispatchEvent(new CustomEvent(s))}),m=e=>window.addEventListener(s,e,{once:!0});window[s]||("MutationObserver"in window&&new MutationObserver(d).observe(document.body,{subtree:!0,childList:!0}),window[s]=!0);async function w(e,l,i){let o=null,n;async function u(){var c;m(u);const r=document.querySelectorAll(`astro-root[ssr][uid="${e}"]`);if(r.length!==0){if(typeof o!="string"){let t=r[0].querySelector("astro-fragment");if(t==null&&r[0].hasAttribute("tmpl")){let a=r[0].querySelector("template[data-astro-template]");a&&(o=a.innerHTML,a.remove())}else t&&(o=t.innerHTML)}n||(n=await i());for(const t of r)(c=t.parentElement)!=null&&c.closest("astro-root[ssr]")||(await n(t,o),t.removeAttribute("ssr"));d()}}u()}export{w as default};
