---
import ExaminationLayout from "../../../layouts/ExaminationLayout.astro";
import { Test } from "../../../apps";
import { Repository } from "../../../data";

// TODO: move params data into data folder?
export function getStaticPaths() {
  return [
    { params: { course: "comp2804", test: "midterm-fall-2013" } },
    { params: { course: "comp2804", test: "midterm-winter-2014" } },
    { params: { course: "comp2804", test: "midterm-fall-2014" } },
    { params: { course: "comp2804", test: "midterm-winter-2015" } },
    { params: { course: "comp2804", test: "midterm-fall-2015" } },
    { params: { course: "comp2804", test: "midterm-fall-2016" } },
    { params: { course: "comp2804", test: "midterm-winter-2017" } },
    { params: { course: "comp2804", test: "midterm-fall-2017" } },
    { params: { course: "comp2804", test: "midterm-winter-2018" } },
    { params: { course: "comp2804", test: "midterm-fall-2018" } },
    { params: { course: "comp2804", test: "midterm-winter-2019" } },
    { params: { course: "comp2804", test: "midterm-fall-2019" } },
    { params: { course: "comp2804", test: "exam-fall-2013" } },
    { params: { course: "comp2804", test: "exam-winter-2014" } },
    { params: { course: "comp2804", test: "exam-fall-2014" } },
    { params: { course: "comp2804", test: "exam-winter-2015" } },
    { params: { course: "comp2804", test: "exam-fall-2015" } },
    { params: { course: "comp2804", test: "exam-fall-2016" } },
    { params: { course: "comp2804", test: "exam-winter-2017" } },
    { params: { course: "comp2804", test: "exam-fall-2017" } },
    { params: { course: "comp2804", test: "exam-winter-2018" } },
    { params: { course: "comp2804", test: "exam-fall-2018" } },
    { params: { course: "comp2804", test: "exam-winter-2019" } },
    { params: { course: "comp2804", test: "exam-fall-2019" } },
  ];
}

const { course, test } = Astro.params;
const data = new Repository().fetchTest(`${course}/${test}`);
---

<ExaminationLayout>
  <Test client:load {data} />
</ExaminationLayout>
